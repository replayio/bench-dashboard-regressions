"use client";

import Link from "next/link";
import { useParams } from "next/navigation";

export function LeftNavigationLink({
  id,
  isTest,
  name,
}: {
  id: string;
  isTest: boolean;
  name: string;
}) {
  const { id: currentId } = useParams();

  const isActive =
    id ===
    decodeURIComponent(Array.isArray(currentId) ? currentId[0] : currentId);

  return (
    <Link
      className={`flex flex-row gap-2 items-center text-white px-4 py-1 ${
        isActive ? "bg-sky-500 pointer-default" : "pointer-cursor"
      }`}
      href={`/team/${id}/recordings`}
    >
      <svg
        className="w-4 h-4"
        fill="none"
        viewBox="0 0 20 21"
        xmlns="http://www.w3.org/2000/svg"
      >
        {isTest ? (
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M2 4.58308C2 3.70922 2.70922 3 3.58308 3H6.74923C7.62309 3 8.33231 3.70922 8.33231 4.58308V7.74923C8.33231 8.16909 8.16552 8.57176 7.86864 8.86864C7.57176 9.16552 7.16909 9.33231 6.74923 9.33231H5.61846V12.9508C5.61846 13.1907 5.71377 13.4208 5.88342 13.5904C6.05307 13.7601 6.28316 13.8554 6.52308 13.8554H10.1415V12.7246C10.1415 11.8508 10.8508 11.1415 11.7246 11.1415H14.8908C15.7646 11.1415 16.4739 11.8508 16.4739 12.7246V15.8908C16.4739 16.3106 16.3071 16.7133 16.0102 17.0102C15.7133 17.3071 15.3106 17.4739 14.8908 17.4739H11.7246C11.3048 17.4739 10.9021 17.3071 10.6052 17.0102C10.3083 16.7133 10.1415 16.3106 10.1415 15.8908V15.2123H6.52308C5.92328 15.2123 5.34805 14.974 4.92393 14.5499C4.49981 14.1258 4.26154 13.5506 4.26154 12.9508V9.33231H3.58308C3.16322 9.33231 2.76056 9.16552 2.46367 8.86864C2.16679 8.57176 2 8.16909 2 7.74923V4.58308ZM3.58308 4.35692C3.5231 4.35692 3.46558 4.38075 3.42316 4.42316C3.38075 4.46558 3.35692 4.5231 3.35692 4.58308V7.74923C3.35692 7.87407 3.45824 7.97539 3.58308 7.97539H6.74923C6.80921 7.97539 6.86674 7.95156 6.90915 7.90915C6.95156 7.86674 6.97539 7.80921 6.97539 7.74923V4.58308C6.97539 4.5231 6.95156 4.46558 6.90915 4.42316C6.86674 4.38075 6.80921 4.35692 6.74923 4.35692H3.58308ZM11.7246 12.4985C11.6646 12.4985 11.6071 12.5223 11.5647 12.5647C11.5223 12.6071 11.4985 12.6646 11.4985 12.7246V15.8908C11.4985 16.0156 11.5998 16.1169 11.7246 16.1169H14.8908C14.9508 16.1169 15.0083 16.0931 15.0507 16.0507C15.0931 16.0083 15.1169 15.9508 15.1169 15.8908V12.7246C15.1169 12.6646 15.0931 12.6071 15.0507 12.5647C15.0083 12.5223 14.9508 12.4985 14.8908 12.4985H11.7246Z"
            fill="currentColor"
          />
        ) : (
          <path
            d="M4.44922 17.0176H15.6533C16.3779 17.0176 16.943 16.8102 17.3486 16.3955C17.7542 15.9854 17.957 15.3929 17.957 14.6182V7.57031C17.957 6.80013 17.7474 6.20768 17.3281 5.79297C16.9134 5.37826 16.3187 5.1709 15.5439 5.1709H9.54199C9.27767 5.1709 9.0498 5.13672 8.8584 5.06836C8.67155 5 8.47103 4.88151 8.25684 4.71289L7.9082 4.43945C7.73047 4.30273 7.56413 4.19564 7.40918 4.11816C7.25423 4.03613 7.08333 3.97917 6.89648 3.94727C6.71419 3.91081 6.49316 3.89258 6.2334 3.89258H4.31934C3.61296 3.89258 3.05469 4.09993 2.64453 4.51465C2.23893 4.9248 2.03613 5.51497 2.03613 6.28516V14.6182C2.03613 15.3929 2.24349 15.9854 2.6582 16.3955C3.07292 16.8102 3.66992 17.0176 4.44922 17.0176ZM4.64062 15.2539C4.36719 15.2539 4.15755 15.1855 4.01172 15.0488C3.87044 14.9121 3.7998 14.6979 3.7998 14.4062V6.49707C3.7998 6.22819 3.875 6.02083 4.02539 5.875C4.17578 5.72917 4.3877 5.65625 4.66113 5.65625H5.75488C6.01921 5.65625 6.24251 5.69043 6.4248 5.75879C6.61165 5.82715 6.81445 5.94564 7.0332 6.11426L7.375 6.39453C7.55273 6.53125 7.71908 6.64062 7.87402 6.72266C8.03353 6.80013 8.20671 6.8571 8.39355 6.89355C8.5804 6.92546 8.80371 6.94141 9.06348 6.94141H15.3457C15.6191 6.94141 15.8288 7.00977 15.9746 7.14648C16.1204 7.2832 16.1934 7.4974 16.1934 7.78906V14.4062C16.1934 14.6979 16.1204 14.9121 15.9746 15.0488C15.8288 15.1855 15.6191 15.2539 15.3457 15.2539H4.64062ZM3.1709 9.64844H16.8496V8.20605H3.1709V9.64844Z"
            fill="currentColor"
          />
        )}
      </svg>
      {name}
    </Link>
  );
}
